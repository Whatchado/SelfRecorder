<?xml version="1.0" encoding="utf-8"?>
<s:Group xmlns:fx="http://ns.adobe.com/mxml/2009" 
		 xmlns:s="library://ns.adobe.com/flex/spark" 
		 xmlns:mx="library://ns.adobe.com/flex/mx" width="400" height="300" xmlns:component="com.antistatus.whatchado.view.component.*">
	<fx:Script>
		<![CDATA[
			import com.antistatus.whatchado.event.ViewEvent;
			import com.antistatus.whatchado.view.skin.VideoControlsSkin;
			import com.antistatus.whatchado.view.skin.VolumeControlSkin;
			
			import mx.collections.ArrayCollection;
			import mx.events.FlexEvent;
			
			[Bindable]
			private var rightVidBorder:int;
			
			[Bindable]
			public var recordingsDataProvider:ArrayCollection;
			
			protected function tippsButtonClickHandler(event:MouseEvent):void
			{
				dispatchEvent(new ViewEvent(ViewEvent.CLICK));
			}
			protected function recordButtonClickHandler(event:MouseEvent):void
			{
				currentState = "record";
			}
			
			protected function recordEnterStateHandler(event:FlexEvent):void
			{
				videoRecorder.connect();
			}
			
			protected function videoExitStateHandler(event:FlexEvent):void
			{
				videoScreen.closeStream();
			}
			
			
		]]>
	</fx:Script>
	<s:states>
		<s:State name="start" exitState="videoExitStateHandler(event)"/>
		<s:State name="record" enterState="recordEnterStateHandler(event)"/>
	</s:states>
		
	<s:RichText id="questionText" width="592" height="50" bottom="10" left="100" fontSize="20"/>
	
	<s:Rect top="125" bottom="100" left="125" right="130">
		<s:stroke>
			<s:SolidColorStroke color="#FFFFFF" weight="2" alpha="0.4"/>
		</s:stroke>
	</s:Rect>
	
	<s:Group top="150" bottom="125" left="155" right="155" includeIn="start">
		<component:VideoScreen id="videoScreen" width="100%"  height="100%"/>
		<component:VolumeControl left="90" bottom="10" skinClass="com.antistatus.whatchado.view.skin.VolumeControlSkin"/>
		<component:VideoControls left="10" bottom="10" skinClass="com.antistatus.whatchado.view.skin.VideoControlsSkin"/>
		<!--<component:VideoProgress y="510" x="100" width="502"/>-->
	</s:Group>
	<component:VideoRecorder top="150" bottom="0" left="155" right="155" id="videoRecorder" includeIn="record"/>
	
	<s:Scroller top="200" bottom="100" right="10" width="145" verticalScrollPolicy="on">
		<s:DataGroup left="0" right="0" dataProvider="{recordingsDataProvider}" itemRenderer="com.antistatus.whatchado.view.component.RecordingsItemRenderer">
			<s:layout>
				<s:VerticalLayout/>
			</s:layout>
		</s:DataGroup>
	</s:Scroller>
	
	
	<s:Button  label="Tipps" y="200" left="10" height="30" click="tippsButtonClickHandler(event)"/>
	<s:Button  label="Aufnahme" y="260" left="10" height="30" click="recordButtonClickHandler(event)"/>
</s:Group>
