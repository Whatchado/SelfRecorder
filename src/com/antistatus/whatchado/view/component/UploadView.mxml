<?xml version="1.0" encoding="utf-8"?>
<s:Group xmlns:fx="http://ns.adobe.com/mxml/2009" 
		 xmlns:s="library://ns.adobe.com/flex/spark" 
		 xmlns:mx="library://ns.adobe.com/flex/mx" xmlns:component="com.antistatus.whatchado.view.component.*">
	
	<fx:Script>
		<![CDATA[
			import com.antistatus.whatchado.event.ViewEvent;
			import com.antistatus.whatchado.view.skin.VideoControlsSkin;
			
			import mx.events.FlexEvent;
			public function showVideo():void
			{
				currentState = "playback";
				
			}
			
			protected function exitStateHandler(event:FlexEvent):void
			{
				videoScreen.closeStream();
			}
			
			protected function start(event:FlexEvent):void
			{
				videoScreen.connect();
				
			}
			
			protected function uploadButtonClickHandler(event:MouseEvent):void
			{
				dispatchEvent(new ViewEvent(ViewEvent.CLICK));
			}
			
		]]>
	</fx:Script>
	
	
	<s:states>
		<s:State name="playback" enterState="start(event)" exitState="exitStateHandler(event)"/>
		<s:State name="upload"/>
	</s:states>
	
	
	<s:Rect top="160" bottom="100" left="135" right="135">
		<s:stroke>
			<s:SolidColorStroke color="#FFFFFF" weight="2" alpha="0.4"/>
		</s:stroke>
	</s:Rect>
	<s:Label text="DEINE STORY FERTIGSTELLEN" styleName="hugeLabel" horizontalCenter="0" top="116"/>
	<s:Group top="185" bottom="0" left="160" right="160" includeIn="playback">
		<s:BitmapImage width="100%" height="35" bottom="78" fillMode="repeat" source="@Embed(source='../assets/skin/controlsbg.png')"/>
		<component:VideoScreen id="videoScreen" left="0" right="0" top="0" bottom="125"/>
		<!--<component:VolumeControl left="90" bottom="125" skinClass="com.antistatus.whatchado.view.skin.VolumeControlSkin"/>-->
		<component:VideoProgress bottom="113" left="0" right="0"/>
		<component:VideoControls blendMode="invert" left="4" bottom="80" skinClass="com.antistatus.whatchado.view.skin.VideoControlsSkin"/>
	</s:Group>
	<s:Button label="Deine Story Speichern" width="233" height="36" bottom="17" horizontalCenter="0" id="uploadButton" click="uploadButtonClickHandler(event)" styleName="uploadButton" buttonMode="true" useHandCursor="true"/>		
	
</s:Group>
